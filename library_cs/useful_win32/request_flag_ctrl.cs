/*-------------------------------------------------------------------------

 リクエストフラグコントローラ

---------------------------------------------------------------------------*/

/*-------------------------------------------------------------------------
 using
---------------------------------------------------------------------------*/

/*-------------------------------------------------------------------------
 
---------------------------------------------------------------------------*/
namespace useful
{
	/*-------------------------------------------------------------------------
	 
	---------------------------------------------------------------------------*/
	public class RequestCtrl
	{
		private bool						m_request;
		private object						m_arg1;			// 引数1
		private object						m_arg2;			// 引数2

		/*-------------------------------------------------------------------------
		 
		---------------------------------------------------------------------------*/
		public object arg1{				get{	return m_arg1;			}}
		public object arg2{				get{	return m_arg2;			}}

		/*-------------------------------------------------------------------------
		 
		---------------------------------------------------------------------------*/
		public RequestCtrl()
		{
			CancelRequest();
			m_arg1		= null;
			m_arg2		= null;
		}

		/*-------------------------------------------------------------------------
		 リクエスト
		---------------------------------------------------------------------------*/
		public void Request()
		{
			m_request	= true;
			m_arg1		= null;
			m_arg2		= null;
		}
		public void Request(object arg1)
		{
			m_request	= true;
			m_arg1		= arg1;
			m_arg2		= null;
		}
		public void Request(object arg1, object arg2)
		{
			m_request	= true;
			m_arg1		= arg1;
			m_arg2		= arg2;
		}

		/*-------------------------------------------------------------------------
		 リクエストキャンセル
		 引数は破棄されない
		---------------------------------------------------------------------------*/
		public void CancelRequest()
		{
			m_request	= false;
		}

		/*-------------------------------------------------------------------------
		 リクエストの有無を得る
		 フラグはリクエストなしに戻される
		---------------------------------------------------------------------------*/
		public bool IsRequest()
		{
			bool	is_req	= m_request;
			CancelRequest();
			return is_req;
		}
	}
}
